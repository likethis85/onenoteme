(function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===t&&(Array.prototype.reduce=function(e){if(this===void 0||this===null)throw new TypeError;var n=Object(this),i=n.length>>>0,r=0,o;if(typeof e!="function")throw new TypeError;if(i==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)o=arguments[1];else do{if(r in n){o=n[r++];break}if(++r>=i)throw new TypeError}while(!0);while(r<i)r in n&&(o=e.call(t,o,n[r],r,n)),r++;return o})})();var Zepto=function(){function t(t){return t==null?String(t):H[U.call(t)]||"object"}function e(e){return t(e)=="function"}function n(t){return t!=null&&t==t.window}function i(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function r(e){return t(e)=="object"}function o(t){return r(t)&&!n(t)&&t.__proto__==Object.prototype}function s(t){return t instanceof Array}function a(t){return typeof t.length=="number"}function l(t){return E.call(t,function(t){return t!=null})}function u(t){return t.length>0?k.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(t){return t in _?_[t]:_[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,e){return typeof e=="number"&&!D[c(t)]?e+"px":e}function d(t){var e,n;return N[t]||(e=O.createElement(t),O.body.appendChild(e),n=P(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),n=="none"&&(n="block"),N[t]=n),N[t]}function p(t){return"children"in t?S.call(t.children):k.map(t.childNodes,function(t){if(t.nodeType==1)return t})}function m(t,e,n){for($ in e)n&&(o(e[$])||s(e[$]))?(o(e[$])&&!o(t[$])&&(t[$]={}),s(e[$])&&!s(t[$])&&(t[$]=[]),m(t[$],e[$],n)):e[$]!==C&&(t[$]=e[$])}function v(t,e){return e===C?k(t):k(t).filter(e)}function g(t,n,i,r){return e(n)?n.call(t,i,r):n}function y(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className,i=n&&n.baseVal!==C;if(e===C)return i?n.baseVal:n;i?n.baseVal=e:t.className=e}function w(t){var e;try{return t?t=="true"||(t=="false"?!1:t=="null"?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?k.parseJSON(t):t:e):t}catch(n){return t}}function x(t,e){e(t);for(var n in t.childNodes)x(t.childNodes[n],e)}var C,$,k,T,j=[],S=j.slice,E=j.filter,O=window.document,N={},_={},P=O.defaultView.getComputedStyle,D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},A=/^\s*<(\w+|!)[^>]*>/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,J=/^(?:body|html)$/i,B=["val","css","html","text","data","width","height","offset"],I=["after","prepend","before","append"],q=O.createElement("table"),z=O.createElement("tr"),L={tr:O.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:z,th:z,"*":O.createElement("div")},R=/complete|loaded|interactive/,W=/^\.([\w-]+)$/,Z=/^#([\w-]*)$/,F=/^[\w-]+$/,H={},U=H.toString,V={},Q,X,Y=O.createElement("div");return V.matches=function(t,e){if(!t||t.nodeType!==1)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=Y).appendChild(t),i=~V.qsa(r,e).indexOf(t),o&&Y.removeChild(t),i},Q=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},X=function(t){return E.call(t,function(e,n){return t.indexOf(e)==n})},V.fragment=function(t,e,n){t.replace&&(t=t.replace(M,"<$1></$2>")),e===C&&(e=A.test(t)&&RegExp.$1),e in L||(e="*");var i,r,s=L[e];return s.innerHTML=""+t,r=k.each(S.call(s.childNodes),function(){s.removeChild(this)}),o(n)&&(i=k(r),k.each(n,function(t,e){B.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},V.Z=function(t,e){return t=t||[],t.__proto__=k.fn,t.selector=e||"",t},V.isZ=function(t){return t instanceof V.Z},V.init=function(t,n){if(!t)return V.Z();if(e(t))return k(O).ready(t);if(V.isZ(t))return t;var i;if(s(t))i=l(t);else if(r(t))i=[o(t)?k.extend({},t):t],t=null;else if(A.test(t))i=V.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==C)return k(n).find(t);i=V.qsa(O,t)}return V.Z(i,t)},k=function(t,e){return V.init(t,e)},k.extend=function(t){var e,n=S.call(arguments,1);return typeof t=="boolean"&&(e=t,t=n.shift()),n.forEach(function(n){m(t,n,e)}),t},V.qsa=function(t,e){var n;return i(t)&&Z.test(e)?(n=t.getElementById(RegExp.$1))?[n]:[]:t.nodeType!==1&&t.nodeType!==9?[]:S.call(W.test(e)?t.getElementsByClassName(RegExp.$1):F.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))},k.contains=function(t,e){return t!==e&&t.contains(e)},k.type=t,k.isFunction=e,k.isWindow=n,k.isArray=s,k.isPlainObject=o,k.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},k.inArray=function(t,e,n){return j.indexOf.call(e,t,n)},k.camelCase=Q,k.trim=function(t){return t.trim()},k.uuid=0,k.support={},k.expr={},k.map=function(t,e){var n,i=[],r,o;if(a(t))for(r=0;r<t.length;r++)n=e(t[r],r),n!=null&&i.push(n);else for(o in t)n=e(t[o],o),n!=null&&i.push(n);return u(i)},k.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},k.grep=function(t,e){return E.call(t,e)},window.JSON&&(k.parseJSON=JSON.parse),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){H["[object "+e+"]"]=e.toLowerCase()}),k.fn={forEach:j.forEach,reduce:j.reduce,push:j.push,sort:j.sort,indexOf:j.indexOf,concat:j.concat,map:function(t){return k(k.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return k(S.apply(this,arguments))},ready:function(t){return R.test(O.readyState)?t(k):O.addEventListener("DOMContentLoaded",function(){t(k)},!1),this},get:function(t){return t===C?S.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(t){return j.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):k(E.call(this,function(e){return V.matches(e,t)}))},add:function(t,e){return k(X(this.concat(k(t,e))))},is:function(t){return this.length>0&&V.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==C)this.each(function(e){t.call(this,e)||n.push(this)});else{var i=typeof t=="string"?this.filter(t):a(t)&&e(t.item)?S.call(t):k(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return k(n)},has:function(t){return this.filter(function(){return r(t)?k.contains(this,t):k(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:k(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:k(t)},find:function(t){var e,n=this;return typeof t=="object"?e=k(t).filter(function(){var t=this;return j.some.call(n,function(e){return k.contains(e,t)})}):this.length==1?e=k(V.qsa(this[0],t)):e=this.map(function(){return V.qsa(this,t)}),e},closest:function(t,e){var n=this[0],r=!1;typeof t=="object"&&(r=k(t));while(n&&!(r?r.indexOf(n)>=0:V.matches(n,t)))n=n!==e&&!i(n)&&n.parentNode;return k(n)},parents:function(t){var e=[],n=this;while(n.length>0)n=k.map(n,function(t){if((t=t.parentNode)&&!i(t)&&e.indexOf(t)<0)return e.push(t),t});return v(e,t)},parent:function(t){return v(X(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return S.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return E.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return k.map(this,function(e){return e[t]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),P(this,"").getPropertyValue("display")=="none"&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=k(t).get(0),r=i.parentNode||this.length>1;return this.each(function(e){k(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){k(this[0]).before(t=k(t));var e;while((e=t.children()).length)t=e.first();k(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=k(this),r=i.contents(),o=n?t.call(this,e):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(k(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=k(this);(t===C?e.css("display")=="none":t)?e.show():e.hide()})},prev:function(t){return k(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return k(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return t===C?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;k(this).empty().append(g(this,t,e,n))})},text:function(t){return t===C?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(t,e){var n;return typeof t=="string"&&e===C?this.length==0||this[0].nodeType!==1?C:t=="value"&&this[0].nodeName=="INPUT"?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each(function(n){if(this.nodeType!==1)return;if(r(t))for($ in t)y(this,$,t[$]);else y(this,t,g(this,e,n,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){this.nodeType===1&&y(this,t)})},prop:function(t,e){return e===C?this[0]&&this[0][t]:this.each(function(n){this[t]=g(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+c(t),e);return n!==null?w(n):C},val:function(t){return t===C?this[0]&&(this[0].multiple?k(this[0]).find("option").filter(function(t){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=g(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var n=k(this),i=g(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};n.css("position")=="static"&&(o.position="relative"),n.css(o)});if(this.length==0)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2&&typeof e=="string")return this[0]&&(this[0].style[Q(e)]||P(this[0],"").getPropertyValue(e));var i="";if(t(e)=="string")!n&&n!==0?this.each(function(){this.style.removeProperty(c(e))}):i=c(e)+":"+f(e,n);else for($ in e)!e[$]&&e[$]!==0?this.each(function(){this.style.removeProperty(c($))}):i+=c($)+":"+f($,e[$])+";";return this.each(function(){this.style.cssText+=";"+i})},index:function(t){return t?this.indexOf(k(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return j.some.call(this,function(t){return this.test(b(t))},h(t))},addClass:function(t){return this.each(function(e){T=[];var n=b(this),i=g(this,t,e,n);i.split(/\s+/g).forEach(function(t){k(this).hasClass(t)||T.push(t)},this),T.length&&b(this,n+(n?" ":"")+T.join(" "))})},removeClass:function(t){return this.each(function(e){if(t===C)return b(this,"");T=b(this),g(this,t,e,T).split(/\s+/g).forEach(function(t){T=T.replace(h(t)," ")}),b(this,T.trim())})},toggleClass:function(t,e){return this.each(function(n){var i=k(this),r=g(this,t,n,b(this));r.split(/\s+/g).forEach(function(t){(e===C?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})})},scrollTop:function(){if(!this.length)return;return"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY},position:function(){if(!this.length)return;var t=this[0],e=this.offsetParent(),n=this.offset(),i=J.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(k(t).css("margin-top"))||0,n.left-=parseFloat(k(t).css("margin-left"))||0,i.top+=parseFloat(k(e[0]).css("border-top-width"))||0,i.left+=parseFloat(k(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){var t=this.offsetParent||O.body;while(t&&!J.test(t.nodeName)&&k(t).css("position")=="static")t=t.offsetParent;return t})}},k.fn.detach=k.fn.remove,["width","height"].forEach(function(t){k.fn[t]=function(e){var r,o=this[0],s=t.replace(/./,function(t){return t[0].toUpperCase()});return e===C?n(o)?o["inner"+s]:i(o)?o.documentElement["offset"+s]:(r=this.offset())&&r[t]:this.each(function(n){o=k(this),o.css(t,g(this,e,n,o[t]()))})}}),I.forEach(function(e,n){var i=n%2;k.fn[e]=function(){var e,r=k.map(arguments,function(n){return e=t(n),e=="object"||e=="array"||n==null?n:V.fragment(n)}),o,s=this.length>1;return r.length<1?this:this.each(function(t,e){o=i?e:e.parentNode,e=n==0?e.nextSibling:n==1?e.firstChild:n==2?e:null,r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return k(t).remove();x(o.insertBefore(t,e),function(t){t.nodeName!=null&&t.nodeName.toUpperCase()==="SCRIPT"&&(!t.type||t.type==="text/javascript")&&!t.src&&window.eval.call(window,t.innerHTML)})})})},k.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return k(t)[e](this),this}}),V.Z.prototype=k.fn,V.uniq=X,V.deserializeValue=w,k.zepto=V,k}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(t){function e(t){var e=this.os={},n=this.browser={},i=t.match(/WebKit\/([\d.]+)/),r=t.match(/(Android)\s+([\d.]+)/),o=t.match(/(iPad).*OS\s([\d_]+)/),s=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),a=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=a&&t.match(/TouchPad/),u=t.match(/Kindle\/([\d.]+)/),c=t.match(/Silk\/([\d._]+)/),h=t.match(/(BlackBerry).*Version\/([\d.]+)/),f=t.match(/(BB10).*Version\/([\d.]+)/),d=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),p=t.match(/PlayBook/),m=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),v=t.match(/Firefox\/([\d.]+)/);if(n.webkit=!!i)n.version=i[1];r&&(e.android=!0,e.version=r[2]),s&&(e.ios=e.iphone=!0,e.version=s[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),a&&(e.webos=!0,e.version=a[2]),l&&(e.touchpad=!0),h&&(e.blackberry=!0,e.version=h[2]),f&&(e.bb10=!0,e.version=f[2]),d&&(e.rimtabletos=!0,e.version=d[2]),p&&(n.playbook=!0),u&&(e.kindle=!0,e.version=u[1]),c&&(n.silk=!0,n.version=c[1]),!c&&e.android&&t.match(/Kindle Fire/)&&(n.silk=!0),m&&(n.chrome=!0,n.version=m[1]),v&&(n.firefox=!0,n.version=v[1]),e.tablet=!!(o||p||r&&!t.match(/Mobile/)||v&&t.match(/Tablet/)),e.phone=!e.tablet&&!!(r||s||a||h||f||m&&t.match(/Android/)||m&&t.match(/CriOS\/([\d.]+)/)||v&&t.match(/Mobile/))}e.call(t,navigator.userAgent),t.__detect=e}(Zepto),function(t){function e(t){return t._zid||(t._zid=p++)}function n(t,n,o,s){n=i(n);if(n.ns)var a=r(n.ns);return(d[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||a.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!s||t.sel==s)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(e,n,i){t.type(e)!="string"?t.each(e,i):e.split(/\s/).forEach(function(t){i(t,n)})}function s(t,e){return t.del&&(t.e=="focus"||t.e=="blur")||!!e}function a(t){return v[t]||t}function l(n,r,l,u,c,h){var f=e(n),p=d[f]||(d[f]=[]);o(r,l,function(e,r){var o=i(e);o.fn=r,o.sel=u,o.e in v&&(r=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return o.fn.apply(this,arguments)}),o.del=c&&c(r,e);var l=o.del||r;o.proxy=function(t){var e=l.apply(n,[t].concat(t.data));return e===!1&&(t.preventDefault(),t.stopPropagation()),e},o.i=p.length,p.push(o),n.addEventListener(a(o.e),o.proxy,s(o,h))})}function u(t,i,r,l,u){var c=e(t);o(i||"",r,function(e,i){n(t,e,i,l).forEach(function(e){delete d[c][e.i],t.removeEventListener(a(e.e),e.proxy,s(e,u))})})}function c(e){var n,i={originalEvent:e};for(n in e)!b.test(n)&&e[n]!==undefined&&(i[n]=e[n]);return t.each(w,function(t,n){i[t]=function(){return this[n]=g,e[t].apply(e,arguments)},i[n]=y}),i}function h(t){if(!("defaultPrevented"in t)){t.defaultPrevented=!1;var e=t.preventDefault;t.preventDefault=function(){this.defaultPrevented=!0,e.call(this)}}}var f=t.zepto.qsa,d={},p=1,m={},v={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",t.event={add:l,remove:u},t.proxy=function(n,i){if(t.isFunction(n)){var r=function(){return n.apply(i,arguments)};return r._zid=e(n),r}if(typeof i=="string")return t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e){return this.each(function(){l(this,t,e)})},t.fn.unbind=function(t,e){return this.each(function(){u(this,t,e)})},t.fn.one=function(t,e){return this.each(function(n,i){l(this,t,e,null,function(t,e){return function(){var n=t.apply(i,arguments);return u(i,e,t),n}})})};var g=function(){return!0},y=function(){return!1},b=/^([A-Z]|layer[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,n,i){return this.each(function(r,o){l(o,n,i,e,function(n){return function(i){var r,s=t(i.target).closest(e,o).get(0);if(s)return r=t.extend(c(i),{currentTarget:s,liveFired:o}),n.apply(s,[r].concat([].slice.call(arguments,1)))}})})},t.fn.undelegate=function(t,e,n){return this.each(function(){u(this,e,n,t)})},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i){return!n||t.isFunction(n)?this.bind(e,n||i):this.delegate(n,e,i)},t.fn.off=function(e,n,i){return!n||t.isFunction(n)?this.unbind(e,n||i):this.undelegate(n,e,i)},t.fn.trigger=function(e,n){if(typeof e=="string"||t.isPlainObject(e))e=t.Event(e);return h(e),e.data=n,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(e)})},t.fn.triggerHandler=function(e,i){var r,o;return this.each(function(s,a){r=c(typeof e=="string"?t.Event(e):e),r.data=i,r.target=a,t.each(n(a,e.type||e),function(t,e){o=e.proxy(r);if(r.isImmediatePropagationStopped())return!1})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){typeof t!="string"&&(e=t,t=e.type);var n=document.createEvent(m[t]||"Events"),i=!0;if(e)for(var r in e)r=="bubbles"?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0,null,null,null,null,null,null,null,null,null,null,null,null),n.isDefaultPrevented=function(){return this.defaultPrevented},n}}(Zepto),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.defaultPrevented}function n(t,n,i,r){if(t.global)return e(n||v,i,r)}function i(e){e.global&&t.active++===0&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var i=e.context;if(e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1)return!1;n(e,i,"ajaxSend",[t,e])}function s(t,e,i){var r=i.context,o="success";i.success.call(r,t,o,e),n(i,r,"ajaxSuccess",[e,i,t]),l(o,e,i)}function a(t,e,i,r){var o=r.context;r.error.call(o,i,e,t),n(r,o,"ajaxError",[i,r,t]),l(e,i,r)}function l(t,e,i){var o=i.context;i.complete.call(o,e,t),n(i,o,"ajaxComplete",[e,i]),r(i)}function u(){}function c(t){return t&&(t=t.split(";",2)[0]),t&&(t==$?"html":t==C?"json":w.test(t)?"script":x.test(t)&&"xml")||"text"}function h(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function f(e){e.processData&&e.data&&t.type(e.data)!="string"&&(e.data=t.param(e.data,e.traditional)),e.data&&(!e.type||e.type.toUpperCase()=="GET")&&(e.url=h(e.url,e.data))}function d(e,n,i,r){var o=!t.isFunction(n);return{url:e,data:o?n:undefined,success:o?t.isFunction(i)?i:undefined:n,dataType:o?r||i:i}}function p(e,n,i,r){var o,s=t.isArray(n);t.each(n,function(n,a){o=t.type(a),r&&(n=i?r:r+"["+(s?"":n)+"]"),!r&&s?e.add(a.name,a.value):o=="array"||!i&&o=="object"?p(e,a,i,n):e.add(n,a)})}var m=0,v=window.document,g,y,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,C="application/json",$="text/html",k=/^\s*$/;t.active=0,t.ajaxJSONP=function(e){if("type"in e){var n="jsonp"+ ++m,i=v.createElement("script"),r=function(){clearTimeout(h),t(i).remove(),delete window[n]},l=function(t){r();if(!t||t=="timeout")window[n]=u;a(null,t||"abort",c,e)},c={abort:l},h;return o(c,e)===!1?(l("abort"),!1):(window[n]=function(t){r(),s(t,c,e)},i.onerror=function(){l("error")},i.src=e.url.replace(/=\?/,"="+n),t("head").append(i),e.timeout>0&&(h=setTimeout(function(){l("timeout")},e.timeout)),c)}return t.ajax(e)},t.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:C,xml:"application/xml, text/xml",html:$,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{});for(g in t.ajaxSettings)n[g]===undefined&&(n[g]=t.ajaxSettings[g]);i(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),f(n),n.cache===!1&&(n.url=h(n.url,"_="+Date.now()));var r=n.dataType,l=/=\?/.test(n.url);if(r=="jsonp"||l)return l||(n.url=h(n.url,"callback=?")),t.ajaxJSONP(n);var d=n.accepts[r],p={},m=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,v=n.xhr(),b;n.crossDomain||(p["X-Requested-With"]="XMLHttpRequest"),d&&(p.Accept=d,d.indexOf(",")>-1&&(d=d.split(",",2)[0]),v.overrideMimeType&&v.overrideMimeType(d));if(n.contentType||n.contentType!==!1&&n.data&&n.type.toUpperCase()!="GET")p["Content-Type"]=n.contentType||"application/x-www-form-urlencoded";n.headers=t.extend(p,n.headers||{}),v.onreadystatechange=function(){if(v.readyState==4){v.onreadystatechange=u,clearTimeout(b);var e,i=!1;if(v.status>=200&&v.status<300||v.status==304||v.status==0&&m=="file:"){r=r||c(v.getResponseHeader("content-type")),e=v.responseText;try{r=="script"?(1,eval)(e):r=="xml"?e=v.responseXML:r=="json"&&(e=k.test(e)?null:t.parseJSON(e))}catch(o){i=o}i?a(i,"parsererror",v,n):s(e,v,n)}else a(null,v.status?"error":"abort",v,n)}};var w="async"in n?n.async:!0;v.open(n.type,n.url,w);for(y in n.headers)v.setRequestHeader(y,n.headers[y]);return o(v,n)===!1?(v.abort(),!1):(n.timeout>0&&(b=setTimeout(function(){v.onreadystatechange=u,v.abort(),a(null,"timeout",v,n)},n.timeout)),v.send(n.data?n.data:null),v)},t.get=function(e,n,i,r){return t.ajax(d.apply(null,arguments))},t.post=function(e,n,i,r){var o=d.apply(null,arguments);return o.type="POST",t.ajax(o)},t.getJSON=function(e,n,i){var r=d.apply(null,arguments);return r.dataType="json",t.ajax(r)},t.fn.load=function(e,n,i){if(!this.length)return this;var r=this,o=e.split(/\s/),s,a=d(e,n,i),l=a.success;return o.length>1&&(a.url=o[0],s=o[1]),a.success=function(e){r.html(s?t("<div>").html(e.replace(b,"")).find(s):e),l&&l.apply(r,arguments)},t.ajax(a),this};var T=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(T(t)+"="+T(e))},p(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e=[],n;return t(Array.prototype.slice.call(this.get(0).elements)).each(function(){n=t(this);var i=n.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&i!="submit"&&i!="reset"&&i!="button"&&(i!="radio"&&i!="checkbox"||this.checked)&&e.push({name:n.attr("name"),value:n.val()})}),e},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(t,e){function n(t){return i(t.replace(/([a-z])([A-Z])/,"$1-$2"))}function i(t){return t.toLowerCase()}function r(t){return s?s+t:i(t)}var o="",s,a,l,u={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},c=window.document,h=c.createElement("div"),f=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,d,p,m,v,g,y,b,w={};t.each(u,function(t,n){if(h.style[t+"TransitionProperty"]!==e)return o="-"+i(t)+"-",s=n,!1}),d=o+"transform",w[p=o+"transition-property"]=w[m=o+"transition-duration"]=w[v=o+"transition-timing-function"]=w[g=o+"animation-name"]=w[y=o+"animation-duration"]=w[b=o+"animation-timing-function"]="",t.fx={off:s===e&&h.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:o,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},t.fn.animate=function(e,n,i,r){return t.isPlainObject(n)&&(i=n.easing,r=n.complete,n=n.duration),n&&(n=(typeof n=="number"?n:t.fx.speeds[n]||t.fx.speeds._default)/1e3),this.anim(e,n,i,r)},t.fn.anim=function(i,r,o,s){var a,l={},u,c="",h=this,x,C=t.fx.transitionEnd;r===e&&(r=.4),t.fx.off&&(r=0);if(typeof i=="string")l[g]=i,l[y]=r+"s",l[b]=o||"linear",C=t.fx.animationEnd;else{u=[];for(a in i)f.test(a)?c+=a+"("+i[a]+") ":(l[a]=i[a],u.push(n(a)));c&&(l[d]=c,u.push(d)),r>0&&typeof i=="object"&&(l[p]=u.join(", "),l[m]=r+"s",l[v]=o||"linear")}return x=function(e){if(typeof e!="undefined"){if(e.target!==e.currentTarget)return;t(e.target).unbind(C,x)}t(this).css(w),s&&s.call(this)},r>0&&this.bind(C,x),this.size()&&this.get(0).clientLeft,this.css(l),r<=0&&setTimeout(function(){h.each(function(){x.call(this)})},0),this},h=null}(Zepto);!function(t){t(function(){t.support.transition=function(){var t=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in e)if(t.style[n]!==undefined)return e[n]}();return t&&{end:t}}()})}(window.jQuery),!function(t){var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var n=this;e=t.Event("hide"),this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(t){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),r?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):e&&e()}},t.fn.modal=function(n){return this.each(function(){var i=t(this),r=i.data("modal"),o=t.extend({},t.fn.modal.defaults,i.data(),typeof n=="object"&&n);r||i.data("modal",r=new e(this,o)),typeof n=="string"?r[n]():o.show&&r.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());e.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){function e(){t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n=e.attr("data-target"),i;return n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=t(n),i.length||(i=e.parent()),i}var i="[data-toggle=dropdown]",r=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(i){var r=t(this),o,s;if(r.is(".disabled, :disabled"))return;return o=n(r),s=o.hasClass("open"),e(),s||(o.toggleClass("open"),r.focus()),!1},keydown:function(e){var i,r,o,s,a,l;if(!/(38|40|27)/.test(e.keyCode))return;i=t(this),e.preventDefault(),e.stopPropagation();if(i.is(".disabled, :disabled"))return;s=n(i),a=s.hasClass("open");if(!a||a&&e.keyCode==27)return i.click();r=t("[role=menu] li:not(.divider) a",s);if(!r.length)return;l=r.index(r.filter(":focus")),e.keyCode==38&&l>0&&l--,e.keyCode==40&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}},t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),typeof e=="string"&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t(document).on("click.dropdown.data-api touchstart.dropdown.data-api",e).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),!function(t){function e(e,n){var i=t.proxy(this.process,this),r=t(e).is("body")?t(window):t(e),o;this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=r.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(o=t(e).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e=this,n;this.offsets=t([]),this.targets=t([]),n=this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),i=/^#\w/.test(n)&&t(n);return i&&i.length&&[[i.position().top,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},process:function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=e-this.$scrollElement.height(),i=this.offsets,r=this.targets,o=this.activeTarget,s;if(t>=n)return o!=(s=r.last()[0])&&this.activate(s);for(s=i.length;s--;)o!=r[s]&&t>=i[s]&&(!i[s+1]||t<=i[s+1])&&this.activate(r[s])
},activate:function(e){var n,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),r=i.data("scrollspy"),o=typeof n=="object"&&n;r||i.data("scrollspy",r=new e(this,o)),typeof n=="string"&&r[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.attr("data-target"),r,o,s;i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));if(e.parent("li").hasClass("active"))return;r=n.find(".active:last a")[0],s=t.Event("show",{relatedTarget:r}),e.trigger(s);if(s.isDefaultPrevented())return;o=t(i),this.activate(e.parent("li"),n),this.activate(o,o.parent(),function(){e.trigger({type:"shown",relatedTarget:r})})},activate:function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,r):r(),o.removeClass("in")}},t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("tab");r||i.data("tab",r=new e(this)),typeof n=="string"&&r[n]()})},t.fn.tab.Constructor=e,t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var r,o;this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):this.options.trigger!="manual"&&(r=this.options.trigger=="hover"?"mouseenter":"focus",o=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,e,n,i,r,o,s;if(this.hasContent()&&this.enabled){t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(o),t.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(e),i=t[0].offsetWidth,r=t[0].offsetHeight;switch(e?o.split(" ")[1]:o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}t.offset(s).addClass(o).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var n=this,i=this.tip();return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||typeof t.attr("data-original-title")!="string")&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||(typeof n.title=="function"?n.title.call(e[0]):n.title),t},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("tooltip"),o=typeof n=="object"&&n;r||i.data("tooltip",r=new e(this,o)),typeof n=="string"&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1}}(window.jQuery),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content > *")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-content")||(typeof n.content=="function"?n.content.call(e[0]):n.content),t},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("popover"),o=typeof n=="object"&&n;r||i.data("popover",r=new e(this,o)),typeof n=="string"&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(t){var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var e=t(document).height(),n=this.$window.scrollTop(),i=this.$element.offset(),r=this.options.offset,o=r.bottom,s=r.top,a="affix affix-top affix-bottom",l;typeof r!="object"&&(o=s=r),typeof s=="function"&&(s=r.top()),typeof o=="function"&&(o=r.bottom()),l=this.unpin!=null&&n+this.unpin<=i.top?!1:o!=null&&i.top+this.$element.height()>=e-o?"bottom":s!=null&&n<=s?"top":!1;if(this.affixed===l)return;this.affixed=l,this.unpin=l=="bottom"?i.top-n:null,this.$element.removeClass(a).addClass("affix"+(l?"-"+l:""))},t.fn.affix=function(n){return this.each(function(){var i=t(this),r=i.data("affix"),o=typeof n=="object"&&n;r||i.data("affix",r=new e(this,o)),typeof n=="string"&&r[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),!function(t){var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){o.trigger("closed").remove()}var i=t(this),r=i.attr("data-target"),o;r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),o=t(r),e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close"));if(e.isDefaultPrevented())return;o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.on(t.support.transition.end,n):n()},t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("alert");r||i.data("alert",r=new n(this)),typeof e=="string"&&r[e].call(i)})},t.fn.alert.Constructor=n,t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[t]||this.options[t]),setTimeout(function(){t=="loadingText"?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")},t.fn.button=function(n){return this.each(function(){var i=t(this),r=i.data("button"),o=typeof n=="object"&&n;r||i.data("button",r=new e(this,o)),n=="toggle"?r.toggle():n&&r.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,r;if(this.transitioning)return;e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in");if(i&&i.length){r=i.data("collapse");if(r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])},hide:function(){var e;if(this.transitioning)return;e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0)},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[t!==null?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var r=this,o=function(){n.type=="show"&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(n){return this.each(function(){var i=t(this),r=i.data("collapse"),o=typeof n=="object"&&n;r||i.data("collapse",r=new e(this,o)),typeof n=="string"&&r[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n=t(this),i,r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(r).data("collapse")?"toggle":n.data();n[t(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(r).collapse(o)})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},to:function(e){var n=this.$element.find(".item.active"),i=n.parent().children(),r=i.index(n),o=this;if(e>i.length-1||e<0)return;return this.sliding?this.$element.one("slid",function(){o.to(e)}):r==e?this.pause().cycle():this.slide(e>r?"next":"prev",t(i[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(e,n){var i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,s=e=="next"?"left":"right",a=e=="next"?"first":"last",l=this,u;this.sliding=!0,o&&this.pause(),r=r.length?r:this.$element.find(".item")[a](),u=t.Event("slide",{relatedTarget:r[0]});if(r.hasClass("active"))return;if(t.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(u);if(u.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,i.addClass(s),r.addClass(s),this.$element.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{this.$element.trigger(u);if(u.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}},t.fn.carousel=function(n){return this.each(function(){var i=t(this),r=i.data("carousel"),o=t.extend({},t.fn.carousel.defaults,typeof n=="object"&&n),s=typeof n=="string"?n:o.slide;r||i.data("carousel",r=new e(this,o)),typeof n=="number"?r.to(n):s?r[s]():o.interval&&r.cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t(document).on("click.carousel.data-api","[data-slide]",function(e){var n=t(this),i,r=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},r.data(),n.data());r.carousel(o),e.preventDefault()})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){var e=[],n=[],i=[],r;while(r=t.shift())r.toLowerCase().indexOf(this.query.toLowerCase())?~r.indexOf(this.query)?n.push(r):i.push(r):e.push(r);return e.concat(n,i)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(e){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),n=e.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e=typeof this.$element[t]=="function"),e},move:function(t){if(!this.shown)return;switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()},keydown:function(e){this.suppressKeyPressRepeat=!~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){if(this.suppressKeyPressRepeat)return;this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},blur:function(t){var e=this;setTimeout(function(){e.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(n){return this.each(function(){var i=t(this),r=i.data("typeahead"),o=typeof n=="object"&&n;r||i.data("typeahead",r=new e(this,o)),typeof n=="string"&&r[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var n=t(this);if(n.data("typeahead"))return;e.preventDefault(),n.typeahead(n.data())})}(window.jQuery);if(typeof JSON!=="object"){JSON={}}(function(){"use strict";function f(t){return t<10?"0"+t:t}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){escapable.lastIndex=0;return escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return typeof e==="string"?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,s=gap,a,l=e[t];if(l&&typeof l==="object"&&typeof l.toJSON==="function"){l=l.toJSON(t)}if(typeof rep==="function"){l=rep.call(e,t,l)}switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l){return"null"}gap+=indent;a=[];if(Object.prototype.toString.apply(l)==="[object Array]"){o=l.length;for(n=0;n<o;n+=1){a[n]=str(n,l)||"null"}r=a.length===0?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]";gap=s;return r}if(rep&&typeof rep==="object"){o=rep.length;for(n=0;n<o;n+=1){if(typeof rep[n]==="string"){i=rep[n];r=str(i,l);if(r){a.push(quote(i)+(gap?": ":":")+r)}}}}else{for(i in l){if(Object.prototype.hasOwnProperty.call(l,i)){r=str(i,l);if(r){a.push(quote(i)+(gap?": ":":")+r)}}}}r=a.length===0?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}";gap=s;return r}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(t,e,n){var i;gap="";indent="";if(typeof n==="number"){for(i=0;i<n;i+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=e;if(e&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":t})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(t,e){var n,i,r=t[e];if(r&&typeof r==="object"){for(n in r){if(Object.prototype.hasOwnProperty.call(r,n)){i=walk(r,n);if(i!==undefined){r[n]=i}else{delete r[n]}}}}return reviver.call(t,e,r)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();var CDMobile={};CDMobile.urlValidate=function(t){var e=/http:\/\/[\w-]*(\.[\w-]*)+/gi;return e.test(t)};CDMobile.emailValidate=function(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/gi;return e.test(t)};CDMobile.shareToWeixinFriend=function(t){if(typeof WeixinJSBridge=="undefined"){return false}else{var e=$(this).attr("data-image");var n=$(this).attr("data-title");var i=$(this).attr("data-desc");WeixinJSBridge.invoke("shareTimeline",{img_url:e||"",link:location.href,desc:i,title:n},function(t){WeixinJSBridge.log(t.err_msg)})}return false};CDMobile.increaseVisitNums=function(t,e){if(t<=0||e.length==0)return false;var n="id="+t;var i=$.post(e,n,undefined,"jsonp");i.done(function(t){$(".beta-post-detail .beta-visit-nums").text(t)})};CDMobile.switchImageSize=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","",""]);var e=$(this).parents(".post-item");e.find(".post-image .thumbnail-more").toggle();e.find(".post-image .thumb a .thumb").toggle();e.find(".post-image .thumb-pall").toggle();var n=e.find(".post-image .thumb a").attr("href");e.find(".post-image .thumb a .original").attr("src",n).toggle();var i=e.position();$("body").scrollTop(parseInt(i.top)-75)};CDMobile.ratingPost=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","",""]);var e=$(this);var n=e.parents(".post-box");var i=e.attr("data-id");var r=e.attr("data-score");var o=e.attr("data-url");var s=$.ajax({type:"POST",url:o,data:{pid:i,score:r},dataType:"jsonp",beforeSend:function(){e.toggleClass("voted")}});s.done(function(t){if(t.errno==0){var i=parseInt(e.text());var r=0;if(e.hasClass("upscore"))r=i+1;else if(e.hasClass("downscore"))r=i-1;e.text(r);n.find("a.upscore, a.downscore").addClass("disabled");n.find(".item-toolbar").off("click","a.upscore, a.downscore")}else{alert("");e.toggleClass("voted")}});s.fail(function(){alert("x");e.toggleClass("voted")})};CDMobile.showShareBox=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","",""]);var e=$(this).parents(".item-toolbar").find("#bdshare");if(e.attr("data").length==0){var n=$(this).parents(".post-box");var i={url:n.find(".item-title a").attr("href"),text:"@"+$.trim(n.find(".item-title").text()),pic:n.find(".post-image .thumb a").attr("href")};e.attr("data",JSON.stringify(i))}$(this).parents(".item-toolbar").find(".sharebox:hidden").stop(true,true).delay(50).show()};CDMobile.hideShareBox=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","",""]);$(this).parents(".item-toolbar").find(".sharebox:visible").stop(true,true).delay(50).hide()};CDMobile.fetchComments=function(t){t.preventDefault();var e=$(this);var n=e.parents(".item-toolbar").next(".comment-list");if(n.filter(":visible").length>0){n.hide();_hmt&&_hmt.push(["_trackEvent","",""]);return true}else if(n.html().length>0){n.show();_hmt&&_hmt.push(["_trackEvent","",""]);return true}_hmt&&_hmt.push(["_trackEvent","",""]);var i=e.attr("data-url");var r=e.text();var o=$.ajax({url:i,dataType:"jsonp",type:"get",cache:true,beforeSend:function(t,n){e.text("...")}});o.done(function(t,e,i){n.html(t.html).show();n.find("textarea").focus()});o.fail(function(t,e,n){alert("fail")});o.always(function(){e.text(r)})};CDMobile.RatingComment=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","",""]);var e=$(this);var n=parseInt(e.attr("data-id"));var i=parseInt(e.attr("data-value"));var r=e.parents(".comment-item").find(".comment-score");var o=e.attr("data-url");var s=e.hasClass("pushed");var a=e.parent().find("a.arrow-up").hasClass("pushed");var l=e.parent().find("a.arrow-down").hasClass("pushed");var u=0;if(a||l){if(s){e.toggleClass("pushed");u=i>0?-1:1}else{e.parent().find("a").toggleClass("pushed");u=i>0?2:-2}}else{e.toggleClass("pushed");if(i>0)u=1;else{u=-1}}r.text(parseInt(r.text())+u);var c=$.ajax({url:o,type:"POST",dataType:"jsonp",data:{id:n,score:i}});c.done(function(t){if(parseInt(t.errno)==0){}})};CDMobile.PostComment=function(t){t.preventDefault();var e=$(this).parents("form");var n=e.find(".comment-content");var i=e.next(".caption-error");var r=e.find(".save-caption-loader");var o=n.attr("data-placeholder");var s=$.trim(n.val());var a=parseInt(e.find("input[name=postid]").val());if(a<=0||s.length<=0||s==o)return false;var l=$.ajax({url:e.attr("action"),type:"POST",dataType:"jsonp",data:e.serialize(),beforeSend:function(){i.empty().hide();r.show()}});l.done(function(t){r.hide();if(t.errno==0){i.after(t.html);n.val("").removeClass("expand");_hmt&&_hmt.push(["_trackEvent","",""])}else{i.html(t.error).show();_hmt&&_hmt.push(["_trackEvent","",""])}});l.fail(function(){r.hide();i.html("").show();_hmt&&_hmt.push(["_trackEvent","",""])})};var BetaPost={digg:function(t){t.preventDefault();var e=$(this);var n=parseInt(e.attr("data-id"));var i=e.attr("data-url");var r="beta_digg";var o=JSON.parse($.cookie(r));if(!$.isArray(o))o=[];if($.inArray(n,o)>-1)return false;var s=$.ajax({type:"post",url:i,data:{pid:n},dataType:"jsonp"});s.done(function(t){if(t.errno!=0){e.find(".digg-count").text(t.digg_nums);o.push(n);$.unique(o);$.cookie(r,JSON.stringify(o),{expires:7,path:"/"})}});$(document).off("click","#beta-digg-button")}};var BetaComment={create:function(t){t.preventDefault();var e=$(this);var n=e.next(".beta-alert-message");if(n.length==0)n=$("#beta-create-message").clone().removeAttr("id");var i=n.find(".text");e.after(n);var r=e.find(".beta-captcha");if(r.length>0)e.find("input.beta-captcha").blur();if(e.find(".help-block.error").length>0){i.html("");n.removeClass("alert-success").addClass("alert-error").show();return false}else{var o=e.find(".comment-content");var s=$.trim(o.val());var a=parseInt(o.attr("minlen"));a=isNaN(a)||a==0?5:a;if(s.length<a){i.html("");n.removeClass("alert-success").addClass("alert-error").show();o.focus();return false}if(r.length>0){var l=$.trim(r.val());if(l.length!=4){i.html("");n.removeClass("alert-success").addClass("alert-error").show();r.focus();return false}}}var u=e.find("button[type=submit]");var c=$.ajax({type:"post",url:e.attr("action"),data:e.serialize(),dataType:"jsonp",cache:false,beforeSend:function(t){u.button("loading");i.html("...");n.removeClass("alert-error").addClass("alert-success").show()}});c.done(function(t){i.html(t.text);if(t.errno==0){e.find(":text, textarea").val("");e.find(".beta-control-group").removeClass("success error");e.find(".beta-control-group").removeClass("alert-success alert-error");n.removeClass("alert-error").addClass("alert-success").show();var r=$(".beta-comment-item:last");if(r.length==0)r=$("#beta-comment-list");r.after(t.html);if(e.attr("id")==undefined)e.remove();e.find(".comment-content").addClass("mini");$("form .comment-captcha").hide();$(".beta-no-comments").remove()}else{n.removeClass("alert-success").addClass("alert-error").show();e.find(".refresh-captcha").trigger("click")}});c.fail(function(t,e,r,o){c.abort();i.html(".");n.removeClass("alert-success").addClass("alert-error").show()});c.always(function(){u.button("reset")});return false},reply:function(){var t=$(this).parents(".beta-comment-item").next("form");if(t.length==0){t=$("#comment-form").clone().removeAttr("id").addClass("comment-reply-form").attr("action",$(this).attr("data-url"));t.find(".comment-captcha").hide();t.find(":text, textarea").val("");$(this).parents(".beta-comment-item").after(t);t.find(".beta-control-group").removeClass("error success")}else if(t.filter(":visible").length==0){t.show()}else t.hide();t.next(".beta-alert-message:visible").hide()},rating:function(t){t.preventDefault();var e=$(this);var n=e.parents(".beta-comment-item");var i=n.next(".beta-alert-message");if(i.length==0)i=$("#beta-comment-message").clone().removeAttr("id");var r=i.find(".text");if(e.attr("data-clicked")){r.html("");if(i.hasClass("alert-success"))i.removeClass("alert-success");if(!i.hasClass("alert-error"))i.addClass("alert-error");n.after(i);i.show();return false}var o=e.attr("data-url");var s=$.ajax({url:o,dataType:"jsonp",type:"post",cache:false,beforeSend:function(t){r.html("...");i.removeClass("alert-error").addClass("alert-success");n.after(i);i.show()}});s.done(function(t){if(t.errno==0){var o=e.find(".beta-comment-join-nums");o.text(parseInt(o.text())+1);e.attr("data-clicked",1);r.html(t.text);if(i.hasClass("alert-error"))i.removeClass("alert-error");if(!i.hasClass("alert-success"))i.addClass("alert-success")}else{if(i.hasClass("alert-success"))i.removeClass("alert-success");if(!i.hasClass("alert-error"))i.addClass("alert-error")}n.after(i);i.show()});s.fail(function(t,e,o,s){r.html(".");if(i.hasClass("alert-success"))i.removeClass("alert-success");if(!i.hasClass("alert-error"))i.addClass("alert-error");n.after(i);i.show()})},captchaValidate:function(t){var e=$(this);var n=$.trim(e.val());var i=e.parents(".beta-controls").find(".beta-help-inline");var r=e.parents(".beta-controls").find(".beta-help-error");var o=e.parents(".beta-control-group");i.hide();if(n.length==4){o.removeClass("error").addClass("success");return true}else{r.show();o.removeClass("success").addClass("error");return false}},contentValidate:function(t){var e=$(this);var n=$.trim(e.val());var i=parseInt(e.attr("minlen"));var r=e.parents("form").find(".help-block");i=isNaN(i)||i==0?5:i;if(n.length>i){r.removeClass("error").addClass("success");return true}else{r.removeClass("success").addClass("error");if(n.length==0)e.addClass("mini");return false}},showCaptcha:function(t){var e=$(this);e.removeClass("mini");var n=e.parents("form").find(".comment-captcha:hidden");if(n.length==0)return false;var i=e.parents("form").find("img.beta-captcha-img");i.attr("src",i.attr("lazy-src"));i.trigger("click");n.fadeIn("fast")},refreshCaptcha:function(t){t.preventDefault();
var e=$(this).parents(".beta-controls").find(".refresh-captcha").attr("href");var n=$.ajax({url:e,dataType:"json",cache:false});n.done(function(t){$(".beta-captcha-img").attr("src",t["url"]);$("body").data("captcha.hash",[t["hash1"],t["hash2"]])});return false},loadMore:function(t){var e=$(this);var n=parseInt(e.attr("data-page"))+1;var i=e.attr("data-url");var r={page:n};var o=$.ajax({url:i,dataType:"jsonp",type:"get",data:r,cache:false,beforeSend:function(t){e.button("loading")}});o.done(function(t){if(t.errno==0){var i=$(".beta-comment-item:last");if(i.length==0)i=$("#beta-comment-list");i.after(t.html);if(t.html.length>0)e.attr("data-page",n)}else alert("Load more comments error")});o.always(function(){e.button("reset")})}};CDMobile.addContact=function(t,e){if(typeof WeixinJSBridge=="undefined")return false;WeixinJSBridge.invoke("addContact",{webtype:"1",username:t},function(t){WeixinJSBridge.log(t.err_msg);e&&e(t.err_msg)})};